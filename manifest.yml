---
# Cloud Foundry Buildpack Manifest
# This file defines the buildpack and its dependencies

language: multi

default_versions:
  - name: nodejs
    version: 20.11.0

  - name: claude-code
    version: latest

# Dependency mappings
dependencies:
  - name: nodejs
    version: 20.11.0
    uri: https://nodejs.org/dist/v20.11.0/node-v20.11.0-linux-x64.tar.xz
    sha256: 8d6165e5a14f0a6fce1b4098e3e96af6a78844b78ff4f9e2f5e14f9f3e6e9c4c
    cf_stacks:
      - cflinuxfs3
      - cflinuxfs4
    source: https://nodejs.org
    source_sha256: 8d6165e5a14f0a6fce1b4098e3e96af6a78844b78ff4f9e2f5e14f9f3e6e9c4c

  - name: claude-code
    version: latest
    uri: https://registry.npmjs.org/@anthropic-ai/claude-code
    cf_stacks:
      - cflinuxfs3
      - cflinuxfs4
    source: https://www.npmjs.com/package/@anthropic-ai/claude-code

# Include files for buildpack packaging
include_files:
  - bin/detect
  - bin/supply
  - bin/finalize
  - lib/*.sh
  - resources/**
  - buildpack.yml
  - manifest.yml
  - VERSION
  - README.md

# Pre-package script (optional)
pre_package: scripts/build.sh

# Post-package script (optional)
# post_package: scripts/post-build.sh
